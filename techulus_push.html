<script type="text/x-red" data-template-name="techulus-push">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="text" id="node-input-apikey">
    </div>
    <div class="form-row">
        <label for="node-input-title"><i class="fa fa-random"></i> Title</label>
        <input type="text" id="node-input-title" placeholder="Node-RED">
    </div>
    <div class="form-row">
        <label for="node-input-url"><i class="fa fa-link"></i> Link</label>
        <input type="text" id="node-input-link">
    </div>
</script>

<script type="text/html" data-help-name="techulus-push">
    <p>Sends <code>msg.payload</code> as a notification to the devices registered to your Techulus Push account.</p>
    <p>Uses <code>msg.topic</code> to set the title, if not already set in the properties.</p>
    <p>Uses <code>msg.link</code> to set the link for the push, if not already set in the properties.</p>
</script>

<script type="text/javascript">
  RED.nodes.registerType('techulus-push', {
      category: 'mobile-output',
      defaults: {
          name: {value: ""},
          title: {value: ""},
          link: {value: ""}
      },
      credentials: {
          apikey: {type: "password"}
      },
      color: "#ffcc66",
      inputs: 1,
      outputs: 0,
      icon: "techulus_push.svg",
      align: "right",
      label: function() {
          return this.name || this.title || "techulus push";
      },
      labelStyle: function() {
          return this.name ? "node_label_italic" : "";
      }
  });
</script>
